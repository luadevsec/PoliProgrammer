@startuml

package linguagem {
    interface Conversor {
        + converter(String, String): String
        + converterJava(String): String
        + converterGo(String): String
        + converterJavascript(String): String
        + converterTypescript(String): String
        + converterPython(String): String
        + converterLua(String): String
    }
    
    class LinguagemConversor {
        - suport_map : Dict<Linguagem>
        
        + suported(linguagem : String): boolean
        + execute(linguagem_key : String, codigo : String): String
    }
    
    abstract class Linguagem {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
    }
    
    class Python {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
        + converter(linguagem : String, codigo : String): String
        + converterJava(codigo: String): String
        + converterJavascript(codigo: String): String
        + converterGo(codigo: String): String
    }
    Linguagem <|-- Python
    Conversor <|.. Python
    LinguagemConversor --> Python
    
    class Javascript {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
        + converter(linguagem : String, codigo : String): String
        + converterJava(codigo: String): String
        + converterPython(codigo: String): String
        + converterGo(codigo: String): String
    }
    Linguagem <|-- Javascript
    Conversor <|.. Javascript
    LinguagemConversor --> Javascript
    
    class Java {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
        + converter(linguagem : String, codigo : String): String
        + converterJavascript(codigo: String): String
        + converterPython(codigo: String): String
        + converterGo(codigo: String): String
    }
    Linguagem <|-- Java
    Conversor <|.. Java
    LinguagemConversor --> Java
    
    class Typescript {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
        + converter(linguagem : String, codigo : String): String
        + converterJavascript(codigo: String): String
    }
    Linguagem <|-- Typescript
    Conversor <|.. Typescript
    LinguagemConversor --> Typescript
    
    class Go {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
        + converter(linguagem : String, codigo : String): String
        + converterJava(codigo: String): String
        + converterPython(codigo: String): String
    }
    Linguagem <|-- Go
    Conversor <|.. Go
    LinguagemConversor --> Go
    
    class Lua {
        - suport_map : Dict<String>
        + suported(linguagem : String): boolean
        + converter(linguagem : String, codigo : String): String
    }
    Linguagem <|-- Lua
    Conversor <|.. Lua
    LinguagemConversor --> Lua
}

package Democracia {
    class Campanha {
        + author: String
        + votos: int
        + origem: String
        + destino: String
        + idAuthor: String
        + idCampanha: String
    }
    
    class Democracia {
        + getRanking(top: int, details: boolean): List<Campanha>
        + postCandidate(origin: String, target: String, id: String, campanha: String): Campanha
        + putVote(campanha: String) : void
        + patchComplete(campanha: String, author: String) : void
    }
    
    Democracia <.. Campanha
}

package request {
    class Router {
        + receba(body : Json): void
    }
    Router --> APIController: faz o pedido para a APIController
    
    class APIController {
        + postCodigo(codigo: String, linguagemOrigem: String, linguagemDestino: String): String
        + getLinguagensSuportadas(): List<String>
        + getSuported(linguagem: String): boolean
        + getRanking(top: int, details: boolean): List<String>
        + postCandidate(linguagemOrigem: String, linguagemDestino: String, id: String, campanha: String): String
        + putVote(campanha: String) : String
        + patchComplete(campanha: String, author: String) : String
    }
    
    APIController --> Democracia.Democracia: gerenciamento de votos
    APIController --> LinguagemConversor: conversão de código
}
    Router --> login.AuthManager: solicitação de autenticação

package login {
    class AuthManager {
        + autenticar(email: String, key: UUID): String
        + checarId(tempid: String) : String
    }
}

@enduml
